{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Info.jsx","components/Drawer/index.js","components/Header.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Info","title","image","description","setCartOpened","className","width","src","alt","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","orderId","setOrderId","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","message","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Header","props","to","height","onClickCart","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorites","onAddToCart","onChange","value","type","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","error","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c2152ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__2ECiq\",\"overlayVisible\":\"Drawer_overlayVisible__2myRl\",\"drawer\":\"Drawer_drawer__1nimL\",\"items\":\"Drawer_items__2ZGHc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__4Tby-\",\"plus\":\"Card_plus__cMkUo\",\"favorite\":\"Card_favorite__1nsyo\"};","import React from \"react\";\r\n\r\nconst AppContext = React.createContext({}); \r\n\r\nexport default AppContext;","import React from 'react'\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const {cartItems, setCartItems} = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum,obj)=>obj.price + sum, 0);\r\n\r\n  return {cartItems, setCartItems, totalPrice};\r\n}\r\n\r\n","import React from 'react'\r\nimport AppContext from '../context.js'\r\n\r\nconst Info = ({title, image, description}) => {\r\n\r\n  const {setCartOpened} = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"empty\"  />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={()=>setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Info;\r\n\r\n","import React from 'react'\r\nimport axios from 'axios';\r\n\r\nimport {useCart} from '../../hooks/useCart'\r\nimport Info from '../Info'\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve,ms));\r\n\r\nfunction Drawer({onClose, onRemove, items=[], opened}) {\r\n  const {cartItems,setCartItems,totalPrice} = useCart();\r\n  const [isOrderComplete,setIsOrderComplete] = React.useState(false);\r\n  const [isLoading,setIsLoading] = React.useState(false);\r\n  const [orderId,setOrderId] = React.useState(null);\r\n  \r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const {data} = await axios.post('https://6156e726e039a0001725ac90.mockapi.io/orders',{items: cartItems});\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://6156e726e039a0001725ac90.mockapi.io/cart/'+item.id); \r\n        delay(1000);    \r\n      }\r\n      \r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return(\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина <img onClick={onClose} className=\"cu-p\" src=\"img/btn-remove.svg\" alt=\"Close\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? \r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items flex\">\r\n            {\r\n              items.map((obj)=>(\r\n              <div className=\"cartItem d-flex align-center mb-20\" key = {obj.id}>\r\n                <div style={{backgroundImage:`url(${obj.imageUrl})`}} className=\"cartItemImg\"></div>\r\n                \r\n                <div className=\"mr-20 flex\" >\r\n                  <p className=\"mb-5\" >{obj.title}</p>\r\n                  <b>{obj.price} руб.</b>\r\n                </div>\r\n                <img onClick={() => onRemove(obj.id)} className=\"removeBtn\" src=\"img/btn-remove.svg\" alt=\"Remove\" />\r\n              </div>\r\n              ))\r\n            }\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul className=\"cartTotalBlock\">\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб.</b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice*0.05} руб.</b>\r\n                </li>\r\n              </ul>\r\n            <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n              Оформить заказ \r\n              <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n            </button>\r\n            </div>\r\n          </div> :\r\n          <Info \r\n            title={isOrderComplete ? \"Заказ оформлен!\":\"Корзина пустая\"}  \r\n            description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`:\"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ\"} \r\n            image={isOrderComplete? \"img/complete-order.jpg\":\"img/empty-cart.jpg\"}\r\n          />\r\n          \r\n          \r\n        }\r\n\r\n        \r\n\r\n        \r\n        \r\n      </div>\r\n    </div>\r\n    )\r\n}\r\nexport default Drawer;","import React from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport {useCart} from '../hooks/useCart'\r\n\r\nfunction Header(props) {\r\n  const {totalPrice} = useCart(); \r\n  return(\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\" >\r\n        <div className=\"d-flex align-center\">    \r\n          <img width = {40} height = {40} src=\"img/logo.png\" alt=\"logo\" />\r\n          <div className=\"headerInfo\">\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex \">\r\n        <li className=\"mr-30 cu-p\" onClick={props.onClickCart}>\r\n          <img width = {18} height = {18} src=\"img/cart.svg\" alt=\"Корзина\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/favorites\">\r\n            <img className=\"mr-30 cu-p\" width = {18} height = {18} src=\"img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img width = {18} height = {18} src=\"img/user.svg\" alt=\"Пользователь\" />\r\n          </Link> \r\n        </li>\r\n      </ul>\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import React from \"react\";\r\nimport styles from \"./Card.module.scss\";\r\nimport ContentLoader from \"react-content-loader\"\r\nimport AppContext from '../../context.js';\r\n\r\n\r\nfunction Card({\r\n    id, \r\n    title, \r\n    imageUrl, \r\n    price, \r\n    onFavorite, \r\n    onPlus, \r\n    favorited = false, \r\n    loading = false\r\n  }) {\r\n  const {isItemAdded} = React.useContext(AppContext)\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited)\r\n  const obj = {id, parentId:id, title, imageUrl, price};\r\n    \r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n    \r\n  }\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  }\r\n\r\n\r\n  return (\r\n  <div className={styles.card}>{\r\n    loading ? (\r\n      <ContentLoader \r\n      speed={2}\r\n      width={165}\r\n      height={250}\r\n      viewBox=\"0 0 160 265\"\r\n      backgroundColor=\"#f3f3f3\"\r\n      foregroundColor=\"#ecebeb\"\r\n      >\r\n      <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" /> \r\n      <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" /> \r\n      <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" /> \r\n      <rect x=\"0\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" /> \r\n      <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"35\" height=\"35\" />\r\n      </ContentLoader>) : (\r\n      <>  \r\n        {onFavorite && \r\n          <div className={styles.favorite}>\r\n            <img onClick={onClickFavorite} src={isFavorite ? \"img/heart-liked.svg\" : \"img/heart-unliked.svg\"} alt=\"Unliked\" />\r\n          </div>\r\n        }\r\n        <img width=\"100%\" height={135} src={imageUrl} alt=\"Sneakers\" />\r\n        <h5>{title}</h5>\r\n        <div className=\"d-flex justify-between align-center\">\r\n          <div className=\"d-flex flex-column\">\r\n            <span>Цена:</span>\r\n            <b>{price} руб.</b>\r\n          </div>\r\n          {onPlus && <img className=\"plus\" onClick = {onClickPlus} src={isItemAdded(id) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"} alt=\"plus\" />}\r\n        </div>\r\n      </>\r\n      )\r\n    }\r\n  </div>\r\n  )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from '../components/Card';\r\n\r\n\r\nfunction Home ({\r\n  items, \r\n  searchValue, \r\n  setSearchValue, \r\n  onChangeSearchInput, \r\n  onAddToFavorites, \r\n  onAddToCart,\r\n  isLoading\r\n}) {\r\n\r\n\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) => \r\n      item.title.toLowerCase().includes(searchValue.toLowerCase())\r\n    );\r\n    return ( isLoading ? [...Array(8)] : filtredItems).map((item,index) => (\r\n        <Card  \r\n          onFavorite={(obj)=>onAddToFavorites(obj)}\r\n          onPlus = {(obj)=>onAddToCart(obj)}\r\n          key = {index}\r\n          loading={isLoading}\r\n          {...item}\r\n        />\r\n      ))\r\n  }\r\n\r\n  return(\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>{searchValue ? `Поиск по запросу:\"${searchValue}\"`: `Все кроссовки`}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (<img onClick = {() => setSearchValue('')}  className=\"clear removeBtn cu-p\" src=\"img/btn-remove.svg\" alt=\"Clear\" />)}\r\n          <input onChange = {onChangeSearchInput} value={searchValue} type=\"text\" placeholder=\"Поиск...\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          renderItems()\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home;","import React from 'react';\r\nimport AppContext from '../context';\r\nimport Card from '../components/Card';\r\n\r\nfunction Favorites () {\r\n  const {favorites, onAddToFavorites} = React.useContext(AppContext);\r\n\r\n  return(\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40\">\r\n        <img className=\"cu-p\" width={35} height={35} src=\"img/back-btn.svg\" alt=\"\" />\r\n        <h1 className=\"ml-20\">Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          favorites.map((item,index) => (\r\n          <Card  \r\n            key = {index}\r\n            favorited = {true}\r\n            onFavorite = {onAddToFavorites}\r\n            {...item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Favorites;","import axios from 'axios';\r\nimport React from 'react';\r\nimport Card from '../components/Card';\r\n\r\nfunction Orders () {\r\n  const [orders,setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() =>{\r\n    (async () =>{\r\n      try {\r\n        const {data} = await axios.get('https://6156e726e039a0001725ac90.mockapi.io/orders');\r\n        setOrders(data.reduce((prev, obj) =>[...prev,...obj.items],[]));\r\n        setIsLoading(false);                            \r\n      } catch (error) {\r\n        alert(error.message);\r\n      }\r\n    })();\r\n  },[])\r\n\r\n  return(\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40\">\r\n        <h1 className=\"ml-20\">Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item,index) => (\r\n          <Card  \r\n            key = {index}\r\n            loading={isLoading}\r\n            {...item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Orders;","import React from 'react';\nimport axios from \"axios\";\nimport {Route} from 'react-router-dom';\nimport Drawer from './components/Drawer';\nimport Header from './components/Header';\nimport AppContext from './context';\n\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport Orders from './pages/Orders';\n\n\n\nfunction App() {\n\n  const [items,setItems] = React.useState([]);\n  const [cartItems,setCartItems] = React.useState([]);\n  const [favorites,setFavorites] = React.useState([]);\n  const [searchValue,setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n\n  \n  React.useEffect(()=>{\n    async function fetchData(){\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          axios.get('https://6156e726e039a0001725ac90.mockapi.io/cart'),\n          axios.get('https://6156e726e039a0001725ac90.mockapi.io/favorites'),\n          axios.get('https://6156e726e039a0001725ac90.mockapi.io/items')\n        ])\n        \n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(error.message)\n      }\n    }\n    fetchData();\n  },[])\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find(item => Number(item.parentId) === Number(obj.id));\n      if(findItem){\n        setCartItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)))\n        await axios.delete(`https://6156e726e039a0001725ac90.mockapi.io/cart/${findItem.id}`);\n      }\n      else {\n        setCartItems(prev => [...prev,obj]);\n        const {data} = await axios.post('https://6156e726e039a0001725ac90.mockapi.io/cart', obj);\n        setCartItems((prev) =>\n        prev.map((item) => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id,\n            };\n          }\n          return item;\n        }),\n      );\n      }\n    } catch (error) {\n      alert('Не удалось добавить товар в корзину')\n    }\n  }\n\n  const onAddToFavorites = async (obj) => {\n    try {\n      if(favorites.find(favObj => Number(favObj.id) === Number(obj.id))){\n        axios.delete(`https://6156e726e039a0001725ac90.mockapi.io/favorites/${obj.id}`);\n        setFavorites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n      }else{\n        const {data} = await axios.post('https://6156e726e039a0001725ac90.mockapi.io/favorites', obj);\n        setFavorites(prev => [...prev,data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n    }\n  }\n \n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://6156e726e039a0001725ac90.mockapi.io/cart/${id}`);\n      setCartItems(prev => prev.filter(item => item.id !== id));\n    } catch (error) {\n      alert('Ошибка при удалении из корзины');\n    }\n  }\n\n  const onChangeSearchInput = (event) =>{\n    setSearchValue(event.target.value);\n  }\n\n  const isItemAdded = (id) =>{\n    return cartItems.some(obj => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        items, \n        cartItems, \n        favorites,\n        isItemAdded,\n        onAddToFavorites,\n        setCartOpened,\n        setCartItems,\n        onAddToCart,\n      }}>\n      <div className=\"wrapper clear\">\n        <Drawer items={cartItems} onClose ={()=>setCartOpened(false)} onRemove={onRemoveItem} opened={cartOpened}/>\n        <Header onClickCart={()=> setCartOpened(true)}/>\n        <Route path=\"\" exact>\n          <Home \n            items={items} \n            cartItems={cartItems}\n            searchValue={searchValue} \n            setSearchValue={setSearchValue} \n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorites = {onAddToFavorites}\n            onAddToCart = {onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path=\"favorites\" exact>\n          <Favorites/>\n        </Route>\n\n        <Route path=\"orders\" exact>\n          <Orders/>\n        </Route>\n      </div>\n    </AppContext.Provider> \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './index.scss';\nimport 'macro-css'\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}