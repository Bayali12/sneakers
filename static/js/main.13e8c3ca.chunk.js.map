{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Info.jsx","components/Drawer/index.js","components/Header.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Info","title","image","description","setCartOpened","className","width","src","alt","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","orderId","setOrderId","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","message","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Header","props","to","process","height","onClickCart","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorites","onAddToCart","onChange","value","type","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","error","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13e8c3ca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__2ECiq\",\"overlayVisible\":\"Drawer_overlayVisible__2myRl\",\"drawer\":\"Drawer_drawer__1nimL\",\"items\":\"Drawer_items__2ZGHc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__4Tby-\",\"plus\":\"Card_plus__cMkUo\",\"favorite\":\"Card_favorite__1nsyo\"};","import React from \"react\";\r\n\r\nconst AppContext = React.createContext({}); \r\n\r\nexport default AppContext;","import React from 'react'\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const {cartItems, setCartItems} = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum,obj)=>obj.price + sum, 0);\r\n\r\n  return {cartItems, setCartItems, totalPrice};\r\n}\r\n\r\n","import React from 'react'\r\nimport AppContext from '../context.js'\r\n\r\nconst Info = ({title, image, description}) => {\r\n\r\n  const {setCartOpened} = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"empty\"  />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={()=>setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Info;\r\n\r\n","import React from 'react'\r\nimport axios from 'axios';\r\n\r\nimport {useCart} from '../../hooks/useCart'\r\nimport Info from '../Info'\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve,ms));\r\n\r\nfunction Drawer({onClose, onRemove, items=[], opened}) {\r\n  const {cartItems,setCartItems,totalPrice} = useCart();\r\n  const [isOrderComplete,setIsOrderComplete] = React.useState(false);\r\n  const [isLoading,setIsLoading] = React.useState(false);\r\n  const [orderId,setOrderId] = React.useState(null);\r\n  \r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const {data} = await axios.post('https://6156e726e039a0001725ac90.mockapi.io/orders',{items: cartItems});\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://6156e726e039a0001725ac90.mockapi.io/cart/'+item.id); \r\n        delay(1000);    \r\n      }\r\n      \r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return(\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина <img onClick={onClose} className=\"cu-p\" src=\"img/btn-remove.svg\" alt=\"Close\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? \r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items flex\">\r\n            {\r\n              items.map((obj)=>(\r\n              <div className=\"cartItem d-flex align-center mb-20\" key = {obj.id}>\r\n                <div style={{backgroundImage:`url(${obj.imageUrl})`}} className=\"cartItemImg\"></div>\r\n                \r\n                <div className=\"mr-20 flex\" >\r\n                  <p className=\"mb-5\" >{obj.title}</p>\r\n                  <b>{obj.price} руб.</b>\r\n                </div>\r\n                <img onClick={() => onRemove(obj.id)} className=\"removeBtn\" src=\"img/btn-remove.svg\" alt=\"Remove\" />\r\n              </div>\r\n              ))\r\n            }\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul className=\"cartTotalBlock\">\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб.</b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice*0.05} руб.</b>\r\n                </li>\r\n              </ul>\r\n            <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n              Оформить заказ \r\n              <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n            </button>\r\n            </div>\r\n          </div> :\r\n          <Info \r\n            title={isOrderComplete ? \"Заказ оформлен!\":\"Корзина пустая\"}  \r\n            description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`:\"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ\"} \r\n            image={isOrderComplete? \"img/complete-order.jpg\":\"img/empty-cart.jpg\"}\r\n          />\r\n          \r\n          \r\n        }\r\n\r\n        \r\n\r\n        \r\n        \r\n      </div>\r\n    </div>\r\n    )\r\n}\r\nexport default Drawer;","import React from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport {useCart} from '../hooks/useCart'\r\n\r\nfunction Header(props) {\r\n  const {totalPrice} = useCart(); \r\n  return(\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to={process.env.PUBLIC_URL + \"/\"} >\r\n        <div className=\"d-flex align-center\">    \r\n          <img width = {40} height = {40} src=\"img/logo.png\" alt=\"logo\" />\r\n          <div className=\"headerInfo\">\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex \">\r\n        <li className=\"mr-30 cu-p\" onClick={props.onClickCart}>\r\n          <img width = {18} height = {18} src=\"img/cart.svg\" alt=\"Корзина\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li>\r\n          <Link to={process.env.PUBLIC_URL + \"/favorites\"}>\r\n            <img className=\"mr-30 cu-p\" width = {18} height = {18} src=\"img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to={process.env.PUBLIC_URL + \"/orders\"}>\r\n            <img width = {18} height = {18} src=\"img/user.svg\" alt=\"Пользователь\" />\r\n          </Link> \r\n        </li>\r\n      </ul>\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import React from \"react\";\r\nimport styles from \"./Card.module.scss\";\r\nimport ContentLoader from \"react-content-loader\"\r\nimport AppContext from '../../context.js';\r\n\r\n\r\nfunction Card({\r\n    id, \r\n    title, \r\n    imageUrl, \r\n    price, \r\n    onFavorite, \r\n    onPlus, \r\n    favorited = false, \r\n    loading = false\r\n  }) {\r\n  const {isItemAdded} = React.useContext(AppContext)\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited)\r\n  const obj = {id, parentId:id, title, imageUrl, price};\r\n    \r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n    \r\n  }\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  }\r\n\r\n\r\n  return (\r\n  <div className={styles.card}>{\r\n    loading ? (\r\n      <ContentLoader \r\n      speed={2}\r\n      width={165}\r\n      height={250}\r\n      viewBox=\"0 0 160 265\"\r\n      backgroundColor=\"#f3f3f3\"\r\n      foregroundColor=\"#ecebeb\"\r\n      >\r\n      <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" /> \r\n      <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" /> \r\n      <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" /> \r\n      <rect x=\"0\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" /> \r\n      <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"35\" height=\"35\" />\r\n      </ContentLoader>) : (\r\n      <>  \r\n        {onFavorite && \r\n          <div className={styles.favorite}>\r\n            <img onClick={onClickFavorite} src={isFavorite ? \"img/heart-liked.svg\" : \"img/heart-unliked.svg\"} alt=\"Unliked\" />\r\n          </div>\r\n        }\r\n        <img width=\"100%\" height={135} src={imageUrl} alt=\"Sneakers\" />\r\n        <h5>{title}</h5>\r\n        <div className=\"d-flex justify-between align-center\">\r\n          <div className=\"d-flex flex-column\">\r\n            <span>Цена:</span>\r\n            <b>{price} руб.</b>\r\n          </div>\r\n          {onPlus && <img className=\"plus\" onClick = {onClickPlus} src={isItemAdded(id) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"} alt=\"plus\" />}\r\n        </div>\r\n      </>\r\n      )\r\n    }\r\n  </div>\r\n  )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from '../components/Card';\r\n\r\n\r\nfunction Home ({\r\n  items, \r\n  searchValue, \r\n  setSearchValue, \r\n  onChangeSearchInput, \r\n  onAddToFavorites, \r\n  onAddToCart,\r\n  isLoading\r\n}) {\r\n\r\n\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) => \r\n      item.title.toLowerCase().includes(searchValue.toLowerCase())\r\n    );\r\n    return ( isLoading ? [...Array(8)] : filtredItems).map((item,index) => (\r\n        <Card  \r\n          onFavorite={(obj)=>onAddToFavorites(obj)}\r\n          onPlus = {(obj)=>onAddToCart(obj)}\r\n          key = {index}\r\n          loading={isLoading}\r\n          {...item}\r\n        />\r\n      ))\r\n  }\r\n\r\n  return(\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>{searchValue ? `Поиск по запросу:\"${searchValue}\"`: `Все кроссовки`}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (<img onClick = {() => setSearchValue('')}  className=\"clear removeBtn cu-p\" src=\"img/btn-remove.svg\" alt=\"Clear\" />)}\r\n          <input onChange = {onChangeSearchInput} value={searchValue} type=\"text\" placeholder=\"Поиск...\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          renderItems()\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home;","import React from 'react';\r\nimport AppContext from '../context';\r\nimport Card from '../components/Card';\r\n\r\nfunction Favorites () {\r\n  const {favorites, onAddToFavorites} = React.useContext(AppContext);\r\n\r\n  return(\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40\">\r\n        <img className=\"cu-p\" width={35} height={35} src=\"img/back-btn.svg\" alt=\"\" />\r\n        <h1 className=\"ml-20\">Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {\r\n          favorites.map((item,index) => (\r\n          <Card  \r\n            key = {index}\r\n            favorited = {true}\r\n            onFavorite = {onAddToFavorites}\r\n            {...item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Favorites;","import axios from 'axios';\r\nimport React from 'react';\r\nimport Card from '../components/Card';\r\n\r\nfunction Orders () {\r\n  const [orders,setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() =>{\r\n    (async () =>{\r\n      try {\r\n        const {data} = await axios.get('https://6156e726e039a0001725ac90.mockapi.io/orders');\r\n        setOrders(data.reduce((prev, obj) =>[...prev,...obj.items],[]));\r\n        setIsLoading(false);                            \r\n      } catch (error) {\r\n        alert(error.message);\r\n      }\r\n    })();\r\n  },[])\r\n\r\n  return(\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40\">\r\n        <h1 className=\"ml-20\">Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item,index) => (\r\n          <Card  \r\n            key = {index}\r\n            loading={isLoading}\r\n            {...item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Orders;","import React from 'react';\nimport axios from \"axios\";\nimport {Route} from 'react-router-dom';\nimport Drawer from './components/Drawer';\nimport Header from './components/Header';\nimport AppContext from './context';\n\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport Orders from './pages/Orders';\n\n\n\nfunction App() {\n\n  const [items,setItems] = React.useState([]);\n  const [cartItems,setCartItems] = React.useState([]);\n  const [favorites,setFavorites] = React.useState([]);\n  const [searchValue,setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n\n  \n  React.useEffect(()=>{\n    async function fetchData(){\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          axios.get('https://6156e726e039a0001725ac90.mockapi.io/cart'),\n          axios.get('https://6156e726e039a0001725ac90.mockapi.io/favorites'),\n          axios.get('https://6156e726e039a0001725ac90.mockapi.io/items')\n        ])\n        \n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(error.message)\n      }\n    }\n    fetchData();\n  },[])\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find(item => Number(item.parentId) === Number(obj.id));\n      if(findItem){\n        setCartItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)))\n        await axios.delete(`https://6156e726e039a0001725ac90.mockapi.io/cart/${findItem.id}`);\n      }\n      else {\n        setCartItems(prev => [...prev,obj]);\n        const {data} = await axios.post('https://6156e726e039a0001725ac90.mockapi.io/cart', obj);\n        setCartItems((prev) =>\n        prev.map((item) => {\n          if (item.parentId === data.parentId) {\n            return {\n              ...item,\n              id: data.id,\n            };\n          }\n          return item;\n        }),\n      );\n      }\n    } catch (error) {\n      alert('Не удалось добавить товар в корзину')\n    }\n  }\n\n  const onAddToFavorites = async (obj) => {\n    try {\n      if(favorites.find(favObj => Number(favObj.id) === Number(obj.id))){\n        axios.delete(`https://6156e726e039a0001725ac90.mockapi.io/favorites/${obj.id}`);\n        setFavorites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n      }else{\n        const {data} = await axios.post('https://6156e726e039a0001725ac90.mockapi.io/favorites', obj);\n        setFavorites(prev => [...prev,data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n    }\n  }\n \n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://6156e726e039a0001725ac90.mockapi.io/cart/${id}`);\n      setCartItems(prev => prev.filter(item => item.id !== id));\n    } catch (error) {\n      alert('Ошибка при удалении из корзины');\n    }\n  }\n\n  const onChangeSearchInput = (event) =>{\n    setSearchValue(event.target.value);\n  }\n\n  const isItemAdded = (id) =>{\n    return cartItems.some(obj => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        items, \n        cartItems, \n        favorites,\n        isItemAdded,\n        onAddToFavorites,\n        setCartOpened,\n        setCartItems,\n        onAddToCart,\n      }}>\n      <div className=\"wrapper clear\">\n        <Drawer items={cartItems} onClose ={()=>setCartOpened(false)} onRemove={onRemoveItem} opened={cartOpened}/>\n        <Header onClickCart={()=> setCartOpened(true)}/>\n        <Route path={process.env.PUBLIC_URL + \"/\"} exact>\n          <Home \n            items={items} \n            cartItems={cartItems}\n            searchValue={searchValue} \n            setSearchValue={setSearchValue} \n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorites = {onAddToFavorites}\n            onAddToCart = {onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path={process.env.PUBLIC_URL + \"/favorites\"} exact>\n          <Favorites/>\n        </Route>\n\n        <Route path={process.env.PUBLIC_URL + \"/orders\"} exact>\n          <Orders/>\n        </Route>\n      </div>\n    </AppContext.Provider> \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './index.scss';\nimport 'macro-css'\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}